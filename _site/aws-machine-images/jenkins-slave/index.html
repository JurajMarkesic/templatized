<!doctype html><!-- layout: products-post -->
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Jenkins Slave | Kurian</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Jenkins Slave" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="write_a_description_around_160_characters_long_about_this_PRODUCT_POST" />
<meta property="og:description" content="write_a_description_around_160_characters_long_about_this_PRODUCT_POST" />
<link rel="canonical" href="http://localhost:4000/aws-machine-images/jenkins-slave/" />
<meta property="og:url" content="http://localhost:4000/aws-machine-images/jenkins-slave/" />
<meta property="og:site_name" content="Kurian" />
<meta property="og:image" content="http://localhost:4000/assets/images/seo/banner.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-01-01T01:00:00+01:00" />
<meta name="twitter:card" content="YOUR_TWITTER_HANDLE" />
<meta property="twitter:image" content="http://localhost:4000/assets/images/seo/banner.png" />
<meta property="twitter:title" content="Jenkins Slave" />
<meta name="twitter:site" content="@YOUR_TWITTER_SUMMARY" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-01T01:00:00+01:00","datePublished":"2023-01-01T01:00:00+01:00","description":"write_a_description_around_160_characters_long_about_this_PRODUCT_POST","headline":"Jenkins Slave","image":"http://localhost:4000/assets/images/seo/banner.png","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/aws-machine-images/jenkins-slave/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/seo/brand.png"}},"url":"http://localhost:4000/aws-machine-images/jenkins-slave/"}</script>
<!-- End Jekyll SEO tag -->

  
  <link rel="preload" href="/assets/fonts/Mona-Sans-Regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/assets/fonts/Mona-Sans-Bold.woff2" as="font" type="font/woff2" crossorigin>
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap-grid.min.css" rel="stylesheet" crossorigin="anonymous"> -->
  
  <link rel="stylesheet" href="/assets/css/styles.css?v=14952840180380">
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Kurian" />

  

  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/images/favicons/site.webmanifest">
<link rel="mask-icon" href="/assets/images/favicons/safari-pinned-tab.svg" color="#eff7ff">
<meta name="msapplication-TileColor" content="#eff7ff">
<meta name="theme-color" content="#eff7ff">

  
  <style> 
  :root {
    --selection-bg: #0056b3;
    --selection-text: #eff7ff;

    --theme-color-meta-name: #eff7ff;
    --theme-color-meta-tile: #eff7ff;
    --theme-color-meta-mask: #eff7ff;

    --theme-color-main: #0062cc;
    
    --paper: white;
    --ink: #5c5a5a;
    
    --header-height: 4em;
    --header-bg: #0062cc;
    --header-text-color: white;
    --header-brand-link-width: 70px;

    --footer-padding-top: 2.5em;
    --footer-padding-bottom: 0.5em;
    --footer-bg: ;
    --footer-brand-link-width: 40px;
    --footer-socials-space-between-items: 0.5em;
    --footer-socials-text-size: 125%;
    --footer-socials-short-text-bg: ;
    --footer-socials-short-icon-size: 1.25em;

    --mobile-nav-trigger-width: 2em;
    --mobile-nav-bg: #0056b3;
    --mobile-nav-text-color: white;
    --mobile-current-bg: #eff7ff;
    --mobile-submenu-bg: #0062cc;

    --desktop-current-bg: ;
    --desktop-nav-text-color: ;
    --desktop-nav-distance-from-edge: 0.5em;
    --desktop-nav-space-between-items: 1.5em;
    --desktop-nav-link-hover-bg: ;
    --desktop-nav-text-size-factor: 130%;
    --desktop-nav-submenu-text-size-factor: 85%;
    --desktop-nav-submenu-bg: #0062cc;
    --desktop-nav-submenu-hover-bg: #0056b3;
    --desktop-nav-submenu-width: 16rem;

    --link-basic-color: #007aff;
    --code-bg: rgba(232,62,140,0.1);
    --code-color: #e83e8c;

    --button-basic-bg: transparent;
    --button-basic-hover-bg: #e9e9e9;
    
    --button-primary-bg: #007aff ;
    --button-primary-hover-bg: #e9e9e9;
    --button-primary-label: white;
    --button-primary-hover-label: black;

    --button-outline-color: #section_heading_colored ;
    --button-outline-hover-bg: #e9e9e9;
    --button-outline-hover-color: ;

    --section-intro-bg: white;
    --section-features-bg: #eff7ff;
    --section-services-bg: ;
    --section-products-bg: ;
    --section-team-bg: ;
    --section-posts-bg: ;
    --section-careers-bg: ;
    --section-about-intro-bg: ;

    --section-intro-heading-color: #007aff;

    --section-intro-text-color: ;
    --section-features-text-color: ;
    --section-services-text-color: ;
    --section-products-text-color: ;
    --section-team-text-color: ;
    --section-posts-text-color: ;
    --section-careers-text-color: ;
    --section-about-intro-text-color: ;

    --list-card-border-color: ;
    --list-card-hover-bg: ;

    --list-card-not-link-bg: white;

    --transition-duration-slow: 0.9s;
    --transition-duration-fast: 0.3s;
    --transition-duration-fastest: 0.1s;
    --easing: cubic-bezier(.4,0,0,1);

    --font-family-base: "Mona Sans Regular", sans-serif;
    --font-family-heading: "Mona Sans Bold", serif;
  }
  </style>
</head>

  <body>
    <a class="sr-only" href="#main-content">Skip to main content</a>
    <div class="body-content">

      <div class="scroll-content">
        <header class="header">
  <div class="container">
    <div class="header-layout">
      <div class="header-brand">
        <a href="/" rel="author" class="company-name brand-link">
    
    
    <svg viewBox="0 0 61 38"  xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M51.9697 18.5C50.7396 18.5 48.3173 19.3019 47.25 19.75C47.25 19.75 48.5 18.5 48.5 13.5C48.5 6.75 42.6797 0.5 35.5 0.5H30.5C23.2259 0.5 16.25 5.75 15.5 12.5C15.5 12.5 12.8807 12 11.5 12C6.5 12 0 17.3726 0 24V27.5C0 33.0228 4.47715 37.5 10 37.5H52.1418C58.25 36 61 33.4184 61 28.25C61 22.25 57.2331 18.5 51.9697 18.5ZM42 13L33.25 21.5L41 31H34.5L28.5 23.6452V31H23.5V13H28.5V19.8L35.5 13H42Z" />
</svg>

    <span class="is-visually-hidden">Kurian logo</span>



</a>

      </div>
      <button class="nav-main-trigger js-nav-main-trigger" aria-label="Mobile Menu">
        <span class="nav-main-trigger-icon-menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></span>
        <span class="nav-main-trigger-icon-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></span>
      </button>
      
<div class="nav-main-wrapper">
    <nav class="nav-main">
        <ul class="nav-main-list-reset nav-main-list">
        
            <li class="nav-item">
                
                <a href="/" class="nav-link " >
                    <span class="nav-link-label">
                        <span class="nav-link-label-inner">
                            Home
                        </span>
                    </span>
                </a>
                
            </li>
        
            <li class="nav-item">
                
                <button class="nav-link nav-main-submenu-toggle js-mobile-accordion-trigger">
                    <span class="nav-link-label">
                        Company
                    </span>
                    <span class="nav-submenu-indicator"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
                </button>

                
                <div class="nav-list-submenu-wrap">
                    <ul class="nav-main-list-reset nav-list-submenu js-mobile-accordion-panel">
                    

                        <li class="nav-item-submenu">
                        
                            <a href="/about.html" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    About us
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/team.html" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    Team
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/contact.html" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    Contact
                                </span>
                            </a>
                        
                        </li>

                    
                    </ul>
                </div>
                
            </li>
        
            <li class="nav-item">
                
                <button class="nav-link nav-main-submenu-toggle js-mobile-accordion-trigger">
                    <span class="nav-link-label">
                        Products
                    </span>
                    <span class="nav-submenu-indicator"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
                </button>

                
                <div class="nav-list-submenu-wrap">
                    <ul class="nav-main-list-reset nav-list-submenu js-mobile-accordion-panel">
                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-machine-images" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    AWS Machine Images
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-machine-images/joomla-on-lamp-stack" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    Joomla! on LAMP Stack
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-machine-images/docker-host/" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    Docker Host
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-machine-images/nexus-repository-manager" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    Nexus Repository Manager
                                </span>
                            </a>
                        
                        </li>

                    
                    </ul>
                </div>
                
            </li>
        
            <li class="nav-item">
                
                <button class="nav-link nav-main-submenu-toggle js-mobile-accordion-trigger">
                    <span class="nav-link-label">
                        Services
                    </span>
                    <span class="nav-submenu-indicator"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span>
                </button>

                
                <div class="nav-list-submenu-wrap">
                    <ul class="nav-main-list-reset nav-list-submenu js-mobile-accordion-panel">
                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-professional-services" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    AWS Professional Services
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-professional-services/content-management-hosting" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    Content Management Hosting
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-professional-services/smallbiz-on-the-cloud" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    SmallBiz on the Cloud
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-professional-services/ci-cd-pipeline-cloud-resources" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    CI/CD Pipeline Cloud Resources
                                </span>
                            </a>
                        
                        </li>

                    

                        <li class="nav-item-submenu">
                        
                            <a href="/aws-professional-services/public-cloud-machine-image" class="nav-link nav-link-submenu " >
                                <span class="nav-link-label">
                                    Public Cloud Machine Image
                                </span>
                            </a>
                        
                        </li>

                    
                    </ul>
                </div>
                
            </li>
        
        </ul>
    </nav>
</div>
    </div>
  </div>
</header>

        

<div class="page-content">
    <main class="page-layout">
        
        <section class="page-intro">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <h1 class="section-heading">Jenkins Slave</h1>
                        <p>Jan 1st, 2023</p>
                    </div>
                </div>
            </div>
        </section>
        
        <div id="main-content"></div>
        <section class="page-body">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6">
                        <h2 id="jenkins-build-slave">Jenkins Build Slave</h2>

<p>In a Jenkins based CI/CD pipeline the Jenkins slaves are the work horses. A slave machine is configured to perform variety of tasks – compilation of application source code, executing playbooks and running a wide range of automation tasks.</p>

<p>The Kurian Jenkins slave AMI is preloaded with most of the popular tools that are required to run such automations tasks:</p>

<ul>
  <li>Git Client</li>
  <li>Ant</li>
  <li>Maven</li>
  <li>Gradle</li>
  <li>Java OpenJDK 8 as the default Java version</li>
  <li>OpenJDK releases from 9 through 14.</li>
  <li>C/C++ compilers</li>
  <li>Go compiler</li>
  <li>Python 2.7 and 3.x</li>
  <li>Docker</li>
  <li>Node.js</li>
  <li>Ansible</li>
  <li>AWS CLI</li>
  <li>kubectl</li>
</ul>

<p>All the tools are installed following official guidelines so you don’t need to deal with any custom environment and you can build on the baseline build platform available on this AMI.</p>

<p>The build slaves spun up from this AMI work the best with Jenkins server created from Kurian’s AMI for <a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-2.x-AMI-by-Kurian">Jenkins Server</a>. AMIs are available for all the major Linux distributions.</p>

<h1 id="features"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#features"></a>Features</h1>

<p>All the compilers, interpreters and other tools that are normally used by build and automation jobs are installed on the AMI.</p>

<h2 id="openjdk-releases"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#openjdk-releases"></a>OpenJDK releases</h2>

<ul>
  <li>OpenJDK is the default version of Java available on the AMI.</li>
  <li>The OpenJDK versions 9 and above are installed under <code class="language-plaintext highlighter-rouge">/opt/java</code>. For example, release 9 is available under <code class="language-plaintext highlighter-rouge">/opt/java/jdk-9</code>. For the actual path and related info check under <code class="language-plaintext highlighter-rouge">/opt/java</code> and point JAVA_HOME to appropriate path as needed.</li>
</ul>

<h2 id="cc"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#cc"></a>C/C++</h2>

<p><code class="language-plaintext highlighter-rouge">gcc</code> and <code class="language-plaintext highlighter-rouge">g++</code> are available on the AMI and the related standard header files.</p>

<h2 id="go"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#go"></a>Go</h2>

<p>Latest version of Go is installed and available in the system path. Run <code class="language-plaintext highlighter-rouge">go version</code> to see the version info.</p>

<h2 id="python"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#python"></a>Python</h2>

<p>The default version of Python available on the AMI is Python 3. Python 2.7 is also available on the AMI and it may have to be accessed as <code class="language-plaintext highlighter-rouge">python2</code> or <code class="language-plaintext highlighter-rouge">python2.7</code>.</p>

<p>Please note the Python paths are slightly different on each Linux distribution as we didn’t make any attempt to standardize to avoid customization.</p>

<h1 id="nodejs"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#nodejs"></a>Node.js</h1>

<p>Latest version of Node.js executable is available in the system path.</p>

<h2 id="git-client"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#git-client"></a>Git client</h2>

<p>Git client is installed and available in the system PATH as <code class="language-plaintext highlighter-rouge">git</code>.</p>

<h2 id="ant"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#ant"></a>Ant</h2>

<p>The system environment variable <code class="language-plaintext highlighter-rouge">ANT_HOME</code> points to the install location of Apache Ant.</p>

<h2 id="maven"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#maven"></a>Maven</h2>

<p>Latest version of Maven is installed and it can be accessed as <code class="language-plaintext highlighter-rouge">mvn</code> from the system path.</p>

<h2 id="gradle-and-yarn"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#gradle-and-yarn"></a>Gradle and Yarn</h2>

<p>Latest stable releases of <code class="language-plaintext highlighter-rouge">Gradle</code> and <code class="language-plaintext highlighter-rouge">Yarn</code> are installed. The system environment variable <code class="language-plaintext highlighter-rouge">GRADLE_HOME</code> points to the install location.</p>

<h2 id="ansible"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#ansible"></a>Ansible</h2>

<p>A recent version of Ansible is available on the AMI. To the see the installed version and the Python interpreter it uses, run <code class="language-plaintext highlighter-rouge">ansible --version</code>.</p>

<h2 id="aws-cli"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#aws-cli"></a>AWS CLI</h2>

<p>The AWS CLI command <code class="language-plaintext highlighter-rouge">aws</code> can be accessed as <code class="language-plaintext highlighter-rouge">aws</code> or <code class="language-plaintext highlighter-rouge">/usr/local/bin/aws</code> depending on the Linux distribution.</p>

<h2 id="docker"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#docker"></a>Docker</h2>

<p>The latest, stable version of Docker is available on the AMI for Docker based builds.</p>

<h2 id="kubectl"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#kubectl"></a>kubectl</h2>

<p>A recent version of the <code class="language-plaintext highlighter-rouge">kubectl</code> command-line tool is installed for Jenkins jobs that need to access Kubernetes clusters.</p>

<h2 id="jenkins-user"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#jenkins-user"></a>jenkins user</h2>

<p>For SSH connectivity the headless user <code class="language-plaintext highlighter-rouge">jenkins</code> is setup with the home directory <code class="language-plaintext highlighter-rouge">/var/jenkins</code>. This user has passwordless sudo access on the system.</p>

<h1 id="how-it-works"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#how-it-works"></a>How It Works</h1>

<p>In a Jenkins based CI/CD pipeline, the Jenkins jobs can be configured to run on a slave host, and that is the best practice. On the Jenkins server side the build slaves are called nodes. A node can be configured to work with Jenkins server different ways and for the details look at the section on configuration.</p>

<h1 id="supported-platforms"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#supported-platforms"></a>Supported Platforms</h1>

<p>Click on the links below to take you to Amazon Marketplace for spinning up EC2 nodes.</p>

<ul>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KRMB24">Jenkins Build Slave AMI for Amazon Linux 2018</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KRK7P7">Jenkins Build Slave AMI for Amazon Linux 2</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/prodview-y3a2hnikkmhjk?sr=0-11&amp;ref_=beagle&amp;applicationId=AWSMPContessa">Jenkins Slave for AlmaLinux 8 by Kurian</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/prodview-z37uuopuuyngi?sr=0-12&amp;ref_=beagle&amp;applicationId=AWSMPContessa">Jenkins Slave for Rocky Linux 8 by Kurian</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/prodview-c4uenkurftpxy?sr=0-14&amp;ref_=beagle&amp;applicationId=AWSMPContessa">Jenkins Slave for Oracle Linux 7 by Kurian</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/prodview-qasezde5jvg6w?sr=0-13&amp;ref_=beagle&amp;applicationId=AWSMPContessa">Jenkins Slave for Oracle Linux 8 by Kurian</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KS5D57">Jenkins Build Slave AMI for CentOS 7</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KRG633">Jenkins Build Slave AMI for CentOS 8</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KQQXMF">Jenkins Build Slave AMI for Red Hat Enterprise Linux 7</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KQF8YZ">Jenkins Build Slave AMI for Red Hat Enterprise Linux 8</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KTFRVW">Jenkins Build Slave AMI for Fedora 31</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KS25WR">Jenkins Build Slave AMI for Debian 10</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/prodview-sbfva7vtawga6?sr=0-9&amp;ref_=beagle&amp;applicationId=AWSMPContessa">Jenkins Slave for Debian Linux 11</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KR1CT2">Jenkins Build Slave AMI for Ubuntu 16.04</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KR8MHC">Jenkins Build Slave AMI for Ubuntu 18.04</a></li>
  <li>[Jenkins Slave by Kurian for Ubuntu 22.04]9https://aws.amazon.com/marketplace/pp/prodview-ha5jk4c5easu6?sr=0-10&amp;ref_=beagle&amp;applicationId=AWSMPContessa)</li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KRDZL6">Jenkins Build Slave AMI for openSUSE 15</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KR5HD9">Jenkins Build Slave AMI for SUSE Linux Enterprise Server 12</a></li>
  <li><a href="https://aws.amazon.com/marketplace/pp/B088KR6FDX">Jenkins Build Slave AMI for SUSE Linux Enterprise Server 15</a></li>
</ul>

<h1 id="unsupported-configurations"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#unsupported-configurations"></a>Unsupported Configurations</h1>

<p>Kurian releases latest, stable versions of open source software on popular Linux distributions. If you need a configuration that is not currently available in marketplace, send us your requirements to <a href="mailto:contact@kurianinc.us">contact@kurianinc.us</a>. Please include the following info in the email:</p>

<ul>
  <li>Name of Software to be on the AMI with version numbers.</li>
  <li>Linux distribution and the version.</li>
  <li>The EC2 instance type you plan to spin up from the AMI (optional).</li>
</ul>

<h1 id="configuration"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#configuration"></a>Configuration</h1>

<p>A host can be configured as a Jenkins slave by running <code class="language-plaintext highlighter-rouge">agent.jar</code> on it and connecting the agent service to the Jenkins server. The connectivity could be initiated from Jenkins server or from the slave. There are multiple methods available and few popular methods are summarized here. The Kurian Jenkins Build Slave is compatible with any method you prefer.</p>

<p>After spinning up the EC2 node using this AMI use one of the following methods to configure it as a build node on the Jenkins server. The Jenkins servers built from Kurian AMIs are the best suited for building CI/CD infrastructure.</p>

<h2 id="launch-agent-on-slave-node-via-ssh"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#launch-agent-on-slave-node-via-ssh"></a>Launch agent on slave node via SSH</h2>

<ul>
  <li>
    <p>Generate a SSH key pair without passphrase. (It’s OK to have a passphrase actually but the setup would little easier without one. It’s up to your local security norms.)</p>
  </li>
  <li>
    <p>An SSH credential to access slave node from Jenkins server must be setup using the private key generated in the last step. For this, navigate to Jenkins -&gt; Credentials -&gt; System and click <code class="language-plaintext highlighter-rouge">Add credentials</code> under <code class="language-plaintext highlighter-rouge">Global credentials</code> dropdown.</p>

    <ul>
      <li>Select <code class="language-plaintext highlighter-rouge">SSH Username with private key</code> as <code class="language-plaintext highlighter-rouge">Kind</code></li>
      <li><code class="language-plaintext highlighter-rouge">jenkins</code> as <code class="language-plaintext highlighter-rouge">Username</code>.</li>
      <li>In the <code class="language-plaintext highlighter-rouge">Private Key</code> field, use <code class="language-plaintext highlighter-rouge">Enter directly</code> option to add the content of private key.</li>
    </ul>
  </li>
  <li>
    <p>In the new node creation window, choose these options:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">/var/jenkins</code> as <code class="language-plaintext highlighter-rouge">Remote root directory</code>.</li>
      <li><code class="language-plaintext highlighter-rouge">Launch agents via SSH</code> as <code class="language-plaintext highlighter-rouge">Launch method</code>.</li>
      <li>Use private IP or public IP as <code class="language-plaintext highlighter-rouge">Host</code> depending on how Jenkins server to slave node SSH access is configured.</li>
      <li>Select the credential created in the previous step (or existing) as <code class="language-plaintext highlighter-rouge">Credentials</code>.</li>
      <li>Choose <code class="language-plaintext highlighter-rouge">Manually trusted key Verification Strategy</code> as <code class="language-plaintext highlighter-rouge">Host Key Verification Strategy</code>.</li>
    </ul>
  </li>
</ul>

<h2 id="launch-agent-on-slave-by-connecting-it-to-the-server"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#launch-agent-on-slave-by-connecting-it-to-the-server"></a>Launch agent on slave by connecting it to the server</h2>

<p>This allows the agent running on a slave node to be connected to the Jenkins master whenever it is ready. This means that the agent need not be reachable from the Jenkins server; the agent just needs to be able to reach the server. If you have enabled security via the Configure Global Security page, you can customize the port on which the Jenkins master will listen for incoming agent connections.</p>

<ul>
  <li>In the <code class="language-plaintext highlighter-rouge">Configure Global Security</code> page, under <code class="language-plaintext highlighter-rouge">Agents</code> -&gt; <code class="language-plaintext highlighter-rouge">TCP port for inbound agents</code> select Fixed or Random port for inbound access from the agent. Make sure network access is provisioned for this inbound access accordingly.</li>
  <li>Create a new node with <code class="language-plaintext highlighter-rouge">Launch method</code> selected as <code class="language-plaintext highlighter-rouge">Launch agent by connecting it to the master</code>. When clicked on the newly created node, you will be presented with multiple options as in the picture below:</li>
</ul>

<p><img src="https://camo.githubusercontent.com/45ff2c7f7fe8edb32e51e20744144c9aa5cbcc3c8a8b5c38e332419a5a9263de/68747470733a2f2f6b757269616e2d6d61726b6574706c6163652d70726f64756374732e73332d75732d776573742d322e616d617a6f6e6177732e636f6d2f6a656e6b696e732d736c6176652d636f6e6669672d6a6e6c702d312e706e67" alt="" /></p>

<ul>
  <li>
    <p>SSH into the slave node and as user <code class="language-plaintext highlighter-rouge">jenkins</code>:</p>

    <p>$ cd /var/jenkins $ curl http://JENKINS-SERVER-IP:8080/jnlpJars/agent.jar -o agent.jar $ echo SECRET &gt; SECRET-FILE $ java -jar /var/jenkins/agent.jar -jnlpUrl http://JENKINS-SERVER-IP:8080/computer/NODE-NAME/slave-agent.jnlp -secret @/var/jenkins/SECRET-FILE -workDir “/var/jenkins”</p>
  </li>
</ul>

<p>Verify that the agent is able to connect to Jenkins server successfully. To run the agent process on the slave node <code class="language-plaintext highlighter-rouge">agent.jar</code> can be run as a background process as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ nohup java -jar /var/jenkins/agent.jar -jnlpUrl http://JENKINS-SERVER-IP:8080/computer/NODE-NAME/slave-agent.jnlp -secret @/var/jenkins/SECRET-FILE -workDir "/var/jenkins" &amp;
</code></pre></div></div>

<h2 id="automatically-provisioned-build-nodes-using-amazon-ec2-plugin"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#automatically-provisioned-build-nodes-using-amazon-ec2-plugin"></a>Automatically provisioned build nodes using Amazon EC2 plugin</h2>

<p>For detailed steps, refer this official documentation: <a href="https://plugins.jenkins.io/ec2/">https://plugins.jenkins.io/ec2/</a>. Make sure that it’s installed on the Jenkins server. This plugin is preinstalled in Kurian’s Jenkins Server AMIs.</p>

<p>These are the important points to note:</p>

<ul>
  <li>Add a new provisioner by selecting Jenkins -&gt; Configure Clouds -&gt; Amazon EC2</li>
  <li>Have a Jenkins Credential item to store an AWS keys set that has privileges to spin up EC2 nodes and configure security groups. Select that as <code class="language-plaintext highlighter-rouge">Amazon EC2 Credentials</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">EC2 Key Pair's Private Key</code> must correspond to the SSH key pair that will be used for communicating between Jenkins server and build slave node.</li>
  <li><code class="language-plaintext highlighter-rouge">AMI ID</code> must be the id of Kurian Jenkins Build Slave AMI.</li>
  <li><code class="language-plaintext highlighter-rouge">Security group names</code> should have AWS security group(s) that opens SSH accessing from Jenkins server to slave node on port 22.</li>
  <li><code class="language-plaintext highlighter-rouge">Remote user</code> must be <code class="language-plaintext highlighter-rouge">jenkins</code> and <code class="language-plaintext highlighter-rouge">Remote FS root</code> must be <code class="language-plaintext highlighter-rouge">/var/jenkins</code>. Both these are preconfigured already on the AMI.</li>
  <li>
    <p>Use <code class="language-plaintext highlighter-rouge">User Data</code> to inject the public key corresponds to <code class="language-plaintext highlighter-rouge">EC2 Key Pair's Private Key</code>. Use following command-line:</p>

    <p>#!/bin/bash echo “PUBLIC-KEY” » ~jenkins/.ssh/authorized_keys chown jenkins:jenkins ~jenkins/.ssh/authorized_keys chmod 600 ~jenkins/.ssh/authorized_keys</p>
  </li>
</ul>

<p>Notes:</p>

<ul>
  <li>
    <p>Replace <code class="language-plaintext highlighter-rouge">PUBLIC-KEY</code> with actual content of the public key.</p>
  </li>
  <li>
    <p>Security groups for slave hosts must be configured to open the network inbound connection from Jenkins server.</p>
  </li>
  <li>
    <p>Remote SSH access for <code class="language-plaintext highlighter-rouge">jenkins</code> user on the slave nodes must be ensured, such as configuring SELINUX settings on Red Hat Linux distributions.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">Connection Strategy</code> would depend on how the network access between Jenkins server host and the slave node is provisioned. The best practice is using <code class="language-plaintext highlighter-rouge">Private IP</code> as that is more secure.</p>
  </li>
</ul>

<h1 id="upgrade"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#upgrade"></a>Upgrade</h1>

<p>As a best practice, in-place update of a Jenkins slave node is discouraged. The <code class="language-plaintext highlighter-rouge">agent.jar</code> file is downloaded from or pushed by (depending on the configuration method used) Jenkins server, and make sure the <code class="language-plaintext highlighter-rouge">agent.jar</code> runs on the slave node is compatible.</p>

<h1 id="maintenance-and-troubleshooting"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#maintenance-and-troubleshooting"></a>Maintenance and Troubleshooting</h1>

<p>Kurian can help with configuring Jenkins for your specific needs. Contact us with details to <a href="mailto:contact@kurianinc.us">contact@kurianinc.us</a></p>

<h1 id="remote-access-to-ec2-node"><a href="https://github.com/kurianinc/ami-pub/wiki/Jenkins-Build-Slave-AMI-by-Kurian#remote-access-to-ec2-node"></a>Remote Access to EC2 Node</h1>

<p>The communication between Jenkins master and slave host is over ssl and port 22 must be opened on the slave host for the Jenkins master.</p>

<p>The headless user is needed on the slave host for the communication between Jenkins master and slave. On the AMI <code class="language-plaintext highlighter-rouge">jenkins</code> has been setup for that purpose.</p>

<p>In addition, following are the standard AWS defined users available when a node is provisioned:</p>

<ul>
  <li>Amazon Linux: ec2-user</li>
  <li>Red Hat Linux: ec2-user</li>
  <li>SuSE Linux: ec2-user</li>
  <li>Fedora: fedora</li>
  <li>CentOS: centos</li>
  <li>Debian Linux: admin</li>
  <li>Ubuntu: ubuntu</li>
</ul>

                    </div>
                </div>
            </div>
        </section><div class="section-links">
            <a class="button button-primary " href="/aws-machine-images">Back to products page</a></div></main>
</div>

      </div>

      <footer class="footer">
  <div class="container">
    <div class="footer-layout">
      
      <div class="footer-socials">
        

<div class="nav-social">
    
        <a class="nav-social-link uses_icon " href="https://github.com/YOUR_GITHUB_HANDLE" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="is-visually-hidden">github</span></a>
    
        <a class="nav-social-link uses_icon " href="https://gitlab.com/YOUR_GITLAB_HANDLE" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-gitlab"><path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"></path></svg><span class="is-visually-hidden">gitlab</span></a>
    
        <a class="nav-social-link uses_icon " href="https://facebook.com/YOUR_FACEBOOK_HANDLE" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg><span class="is-visually-hidden">facebook</span></a>
    
        <a class="nav-social-link uses_icon " href="https://twitter.com/YOUR_TWITTER_HANDLE" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg><span class="is-visually-hidden">twitter</span></a>
    
        <a class="nav-social-link uses_icon " href="https://linkedin.com/in/YOUR_LINKEDIN_HANDLE" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-linkedin"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg><span class="is-visually-hidden">linkedin</span></a>
    
</div>

      </div>
      
      <div class="footer-nav-legal">
        <div class="nav-legal">
    
        <a href="/privacy-policy.html" >Privacy policy</a>
    
</div>
      </div>

      <div class="footer-end">
        <div class="footer-copyright">
          <div class="footer-brand">
            <a href="/" rel="author" class="company-name brand-link">
    
    
    <svg viewBox="0 0 61 38"  xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M51.9697 18.5C50.7396 18.5 48.3173 19.3019 47.25 19.75C47.25 19.75 48.5 18.5 48.5 13.5C48.5 6.75 42.6797 0.5 35.5 0.5H30.5C23.2259 0.5 16.25 5.75 15.5 12.5C15.5 12.5 12.8807 12 11.5 12C6.5 12 0 17.3726 0 24V27.5C0 33.0228 4.47715 37.5 10 37.5H52.1418C58.25 36 61 33.4184 61 28.25C61 22.25 57.2331 18.5 51.9697 18.5ZM42 13L33.25 21.5L41 31H34.5L28.5 23.6452V31H23.5V13H28.5V19.8L35.5 13H42Z" />
</svg>

    <span class="is-visually-hidden">Kurian logo</span>



</a>

          </div>
          
<div class="footer-brand-link">
    <div class="copyright">
        
        <span>&copy; 2023</span>

        
        <span>All right reserved</span>
        
    </div>
</div>
        </div>
      </div>

    </div>
  </div>
</footer>
      <script src="/assets/js/scripts.js"></script>

      <div class="dev-only">
  <code class="info-layout">layout: products-post</code>
</div>

<style>
.dev-only .info-layout {
  position: fixed;
  left: 0.5rem;
  bottom: 1.5rem;
  padding: 0.25em;
  background-color: var(--button-primary-bg);
  color: var(--button-primary-label);
  font-size: 0.875rem;
}
</style>

      
    </div>
  </body>
</html>
